{% extends 'base.html' %}

{% block page_title %}
    Models
{% endblock %}

{% block title %}
    Django Core
{% endblock %}

{% block navbar_title %}
    Model Manager
{% endblock %}

{% block content_title %}
    Advanced Django Model
{% endblock %}

{% block content %}

    <div class="row">
        <blockquote class="quote-box">
          <p class="quotation-mark">
            “
          </p>
          <p class="quote-text text-muted">
            In short, a model’s manager is an object through which Django models perform database queries.
              Each Django model has at least one manager, and you can create custom managers in order to customize database access.
              There are two reasons you might want to create a custom manager: to add extra manager methods,
              and/or to modify the initial QuerySet the manager returns.
          </p>
          <hr>
          <div class="blog-post-actions">
            <p class="blog-post-bottom pull-left">
              Nigel George. “Mastering Django: Core.”
            </p>
          </div>
        </blockquote>
    </div>

    <div class="row">
        <h4>BookManager.title_count</h4>
        <p class="text-info">Enter a keyword and the BookManager will return the number of book titles containing it.</p>
        <p>View code is like : </p>
        <p><code>title_count = Book.objects.title_count(keyword)</code></p>
        {% if title_count is None %}
            <p class="text-primary">Enter your query below ...</p>
        {% endif %}
        <form method="post" action="." class="form-inline input-group col-xs-12 col-md-4">
            {% csrf_token %}
            {% if search_form_error %}
                <p class="alert-danger text-center">{{ search_form_error }}</p>
            {% endif %}
            <input type="text" name="keyword" placeholder="{{ query_placeholder }}" />
            &nbsp;&nbsp;
            <button class="btn-danger" type="submit">
                <i class="fa fa-search"></i>
            </button>
        </form>
    </div>

    {% if title_count is not None %}
        <div class="row">
            <h5>Result :</h5>
            <p class="text-success">title_count = {{ title_count }}</p>
        </div>
    {% endif %}

    <hr/>


    <div class="row">
        <blockquote class="quote-box">
          <p class="quotation-mark">
            “
          </p>
          <p class="quote-text text-muted">
            A manager’s base QuerySet returns all objects in the system.
              For example, Book.objects.all() returns all books in the book database.
              You can override a manager’s base QuerySet by overriding the Manager.get_queryset() method.
              get_queryset() should return a QuerySet with the properties you require.
          </p>
          <hr>
          <div class="blog-post-actions">
            <p class="blog-post-bottom pull-left">
              Nigel George. “Mastering Django: Core.”
            </p>
          </div>
        </blockquote>
    </div>

    <div class="row">
        <h4>AlbertBookManager</h4>
        <p>View code is like : </p>
        <p><code>albert_books = Book.albert_objects.all()</code></p>
        <p>{{ albert_books }}</p>
    </div>

    <hr/>

    <div class="row">
        <blockquote class="quote-box">
          <p class="quotation-mark">
            “
          </p>
          <p class="quote-text text-muted">
            “Define custom methods on a model to add custom row-level functionality to your objects.
              Whereas managers are intended to do table-wide things, model methods should act on a particular model instance.
              This is a valuable technique for keeping business logic in one place - the model.
          </p>
          <hr>
          <div class="blog-post-actions">
            <p class="blog-post-bottom pull-left">
              Nigel George. “Mastering Django: Core.”
            </p>
          </div>
        </blockquote>
    </div>

    <div class="row">

    </div>

{% endblock %}